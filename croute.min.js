/*!
 * conkitty-route v0.8.1, https://github.com/hoho/conkitty-route
 * (c) 2014 Marat Abdullin, MIT license
 */
window.$CR=function(e,n,t,r,i,a,o){"use strict";function f(e,n,r,i){for(n=[],r=0;r<e.length;r++)i=e[r],n.push(t(i.name)+"="+t(i.value));return n.join("&")}function c(e,n,t,r,i,a,f,u,l){if(!r&&n&&n(e),f=e.children.slice(0),i){u=e.namedChildren;for(a in u)f.push(u[a])}for(a=0;a<f.length&&!(l=c(u=f[a],n,t,o,i));a++);return!r&&t&&t(e)}function u(e,n,t,r,i){var a=n.state,f=t[0],c=a?a.call(e,f,r,i):o,u=t[2];t[2]=r,c===o&&(r===on&&u===cn&&(f.disabled=!1),r===cn&&(f.disabled?t[2]=u:f.disabled=!0))}function l(e,n,t){var r,i=n._fi;for(r=0;r<i.length;r++)u(e,n,i[r],t)}function s(e,n){new j(X,o,e,n)}function h(e){return"function"==typeof e}function p(e){return e instanceof Array}function d(e){return"string"==typeof e}function _(e){return e instanceof Node}function m(e){!!L!=!!e&&g("Running: "+!!L)}function g(e){throw new Error(e)}function v(e,n,t,r,i,a){if(r=Y[e]){if(n=n.isForm?n[_n]:n,t=[e].concat(t||[]),(a=n._id)&&(i=r[a]))for(a=0;a<i.length;a++)i[a].apply(n,t);if(i=r[""])for(a=0;a<i.length;a++)i[a].apply(n,t)}}function b(e,n,t,r,i){return i="?"===e.charAt(1)?2:1,e=e.substring(i),e in n&&!t&&g("Duplicate param"),n[e]=i,e={param:e,optional:2===i},r&&r.push(e),r?"(?:/([^/]+))"+(2===i?"?":""):e}function w(e,t,r){var i,a,f,c,u,l,s,h={},p=[],d=[];for((e||"").replace(/^((?:(?:\:\?)|[^?#])*)(?:\?([^#]*))?(?:#(.*))?$/,function(e,n,t,r){i=(n||"").split("/"),a=(t||"").split("&"),f=r}),l=i.length,c=0;l>c;c++)((u=n(i[c]))||r&&c===l-1)&&p.push(":"===u.charAt(0)?b(u,h,t,t?o:d):t?u:"/"+u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));for(c=0;c<a.length;c++)(u=a[c])&&(s||(s={}),~(l=u.indexOf("="))?(l=u.substring(l+1),u=n(u.substring(0,u.length-l.length-1)),l=n(l)):l=gn,":"===u.charAt(0)&&g("Invalid queryparam"),u in s&&g("Duplicate queryparam"),s[u]=l&&":"===l.charAt(0)?b(l,h,t):{value:l});return f&&(f=":"===f.charAt(0)?b(f,h,t):{value:f}),{pathname:[p,d],search:s,hash:f,params:h}}function y(e,n,t,r,i,a,f,c,u,l){switch(r.param&&i&&(u=i[r.param]),!0){case"value"in r?r.value===t:t!==o&&!u:l=!0;break;case h(u):l=(t=u.call(e,t,f))!==o||r.optional;break;case t===o&&r.optional:l=!0;break;case u instanceof RegExp&&t!==o:l=u.test(t);break;case p(u):l=u.indexOf(t)>=0;break;case d(u):l=u===t;break;default:l=!1}return l&&t!==o&&(n!==o&&(a[n]=t),r&&(n=r.param)&&(f[n]=c[n]=t)),l}function k(e,n,t,r){if(n||t||c(e,o,function(e){e._a&&k(e,n,!0)},!0),!!(r=e._a)==!n)for(;e;)e._a+=n||-r,e=e[_n]}function j(e,n,t,r,i,a,f,c,u){function l(e){e&&(yn(2,e)||yn(4,e)||d(e)||h(e))||g("Unexpected `"+e+"` as data source")}function s(e,n,t,i){for(t=Object.keys(M),i=t.length;i--;)n=t[i],R.hasOwnProperty(n)||delete M[n];for(n in O)n in A||(t=O[n],(t=h(t)?t.call(E,M):t)!==o&&(M[n]=t));return(e=r.matcher)?e.call(E,M):!0}var _,m,v,b,C,$,N,F,H,O,R,q,A,E=this,T=/.*/,M=E._p=jn({},f&&f._p);if(E[_n]=f,E.root=f?f.root||f:E,E.children=[],E.namedChildren={},E.uri=t,E._id="r"+ ++Q,E._n={},E._d=[],r){if(E.title=r.title||f&&f.title,E[mn]=r[_n]||f&&f[mn],E.render=x(r.render),c)E.isForm=!0,(b=E.action=r.action)&&l(b),E._method=r.method,E.check=r.check,E.state=r.state,E.type=r.type,E[dn]=r[dn],E.xhr=r.xhr;else{u?(E.isNamed=!0,e[t]=E,t=o):(e.push(E),n&&(E._g=n,n.push(E)),O=r.params,(_=E.id=r.id)&&(_ in V&&g("Duplicate id: "+_),V[_]=E),E["break"]=r["break"],E["final"]=r["final"],E.partial=r.partial,E.reduce=r.reduce),E.keep=r.keep,p(v=r.data)?E._da=!0:v=v!==o?[v]:[];for(_=0;_<v.length;_++)l(v[_]);if(E[rn]=v,E.form=r.form,E.wait=((_=r.wait)===o?f&&f.wait:_)||!1,C=r.on)for(b in Y)if(v=C[b])for(p(v)||(v=[v]),_=0;_<v.length;_++)xn.on(b,v[_],E)}(_=b=r.refresh)&&(_=yn(5,_)?_:xn.$.refresh({refresh:_}),c?E.tags=Object.keys(_.t).join(" "):E.refresh=_)}if(t!==o){if(t=w(t),q=(i||[]).concat(t.pathname[0]),$=new RegExp("^"+q.join("")+"(?:/(.*))?$"),N=t.pathname[1],F=t.search,H=t.hash,a||(a=1),T=function(e){A={},R={};var n,t=e.match($);if(t){for(n=0;n<N.length;n++){if(!y(E,o,t[a+n],b=N[n],O,o,R,M)){n=!1;break}b&&(b=b.param)&&(A[b]=!0)}if(n===!1||!F&&!H&&!s())return k(E),!1;((n=!t[a+N.length])||E.partial)&&E["final"]!==!1&&(n?k(E,1):(n=!0,B[E._id]=E))}return E._a||n?R:!1},(F||H)&&(T={pathname:T},F&&(T.search=function(){var e,n={};for(e in F){if(!y(E,e,K[e],b=F[e],O,n,R,M)){n=!1;break}b&&(b=b.param)&&(A[b]=!0)}return(n===!1||!H&&!s())&&(k(E),n=!1),n}),H&&(T.hash=function(e){var n=y(E,o,e||o,H,O,o,R,M)&&s()?e||!0:!1;return n||k(E),(b=H.param)&&(A[b]=!0),n})),m=r&&r.frames)for(v in m)for(p(b=m[v])?n=[]:(b=[b],n=o),_=0;_<b.length;_++)new j(E.children,n,v,b[_],E.reduce===!1?i:q,a+(E.reduce===!1?0:N.length),E);if(m=r&&r.named)for(v in m)new j(E.namedChildren,o,v,m[v],o,o,E,o,!0)}c||u||$H.on(T,{go:function(e){t||(E._a=1),E._s=e}})}function x(e){function n(e){return d(e)||h(e)||yn(1,e)||yn(3,e)||e===gn}e=n(e)||p(e)?{success:e}:e||{};var t,r,i,a,f,c,u,l={},s=[un,ln,sn,hn,pn],_={"-":!1,"":o,"+":!0};for(t=s.length;t--;){r="",c=o;for(r in _)if(p(f=e[r+(a=s[t])])||f===o||(f=[f]),f){for(c||(c=[]),i=0;i<f.length;i++)n(u=f[i])||g("Unexpected `"+u+"` as a template"),c.push({s:_[r],v:u});l[a]=c}}return l}function C(e,n,t,r){return r=n.param,(t&&r in t?t:e._p)[r]}function $(n,t){return t=e.createElement("a"),t.href=n,t.href=t.href,t}function N(e,n,i,a,f,c,u,l,s){var h,d,_,m,v;if(c||(a=[],f=[],c={}),i!==o&&"object"!=typeof i&&g("Invalid params `"+i+"`"),l||(h=$(n),(s=h.protocol!==r.protocol||h.host!==r.host?h.protocol+"//"+h.host:"")&&(n=h.pathname+h.search,(d=h.hash)&&d.length>1&&(n+=d))),!e||e&&e.reduce!==!1){for(n=w(n,!0,!i),_=n.pathname[0],h=_.length;h--;)m=_[h],v=m.param?C(e,m,i):m,v!==o&&a.unshift(t(v));if(_=n.search)for(h in _)if(!(h in c)){if(c[h]=!0,m=_[h],h=t(h),m.param){if(v=C(e,m,i),p(v)){for(d=0;d<v.length;d++)f.push(h+"="+t(v[d]));continue}}else v=m.value;v!==o&&f.push(h+"="+t(v))}!u&&(_=n.hash)&&(u=_.param?C(e,_,i):_.value)}return i&&e&&(h=e[_n])&&N(h,h.uri,i,a,f,c,u,!0,s),l?void 0:(a=s+("/"+a.join("/")).replace(/\/+/g,"/"),f.length&&(a+="?"+f.join("&")),u&&(a+="#"+t(u)),a)}function F(e,n,t,r,i,a,f,c,u,l,s){if(i=this,s=n.method,n=n.isForm?n[_n]:n,yn(4,e)&&(e=e.v)){if((f=e.override)&&(f=f.call(n,n._p))!==o)return{o:f};s=e.method||s,a=e.parse,c=e.transform,e=e.uri,h(e)&&(e=e.call(n,n._p),l=!0)}h(s)&&(s=s.call(n,n._p)),i.ok=[],i.err=[],i.r=r=new XMLHttpRequest,r.open(r.method=(s||"GET").toUpperCase(),r.uri=l?e:N(n,e),!0),v("xhr",n,[r,!1]),r.onreadystatechange=function(){if(4===r.readyState){if(v("xhr",n,[r,!0]),i.d=i.e=!0,2===(r.status/100|0))try{u=r.responseText,u=a?a.call(n,u,r):204===r.status?o:JSON.parse(u),i.j=c?c.call(n,u,r):u,i.e=!1}catch(e){}i.done(),i.r=o}},t&&(t=t(r)),t!==o?r.send(t):r.send()}function H(n,t,r,i,a,f){return i=t,n=n.isForm?n[_n]:n,d(r)&&(r=o),t=t||r||D,t&&!_(t)&&(t=h(t)?t.call(n):e.querySelector(t)),_(t)?((a=t._$Cid)||(t._$Cid=a=++Q),f=n._n,f[a]||(f[a]=[r=e.createComment("")],t.appendChild(r))):t="No node `"+i+"`"+((i=n.id)?" ("+i+")":""),t}function O(n,t,r,i,a,f,c,u){var l,s,m,b,w,y,k,j,x,C,$,F="nextSibling";if(u=u===o?t[n]||U[n]||[]:u.s===o||u.s===a.active(!0)?u.v:o,p(u)){if(n===pn&&!u.length)throw r[0];try{if(c={},!u.length&&(n===ln||n===sn)){$=a._n;for(l in $)if($[l].length>1){u=[{v:gn}];break}}for(l=0;l<u.length&&O(n,t,r,i,a,f,c,u[l])!==!1;l++);}catch(q){if(n===pn)throw q;r=[q,n,l,u[l]],O(pn,t,r,i,a,f,c),v(pn,a,r),x=!0}}else if(u||u===gn){if(a.isForm&&(a=a[_n]),j=[a._da||n===pn?r:r[0],a._p],f&&j.push(f),h(u)&&(u=u.apply(a,j),u===!1||u===o))return u;if(yn(1,u))h(l=u.u)?l=l.apply(a,j):(h(C=u.p)&&(C=C.apply(a,j)),l=N(o,l,jn(C,a._p))),xn.set(l,u.r,u.e);else if(u){if(_(u)&&(m=u),l=d(u)?u:u.n,h(l)&&(m=l=l.apply(a,j)),d(l)&&(j.unshift(l),m=I.apply(a,j),d(m)))for(l=e.createElement("div"),l.innerHTML=m,m=e.createDocumentFragment(),l=l.firstChild;l;)C=l[F],m.appendChild(l),l=C;if(m===!1)return m}if(!u||_(m)){if(R(),w=H(a,u&&u.p,i),d(w)&&g(w),$=a._n,s=$[y=w._$Cid],k=s[0],!(y in c||u&&u.r===!1))for(l in $)l=$[l],c._&&l!==s||(a._d=a._d.concat(l.splice(1,l.length-1)),R());if(c[y]=c._=!0,u&&(b=k.parentNode))for(C=k.previousSibling,b.insertBefore(m,k),l=C?C[F]:b.firstChild;l!==k;l=l[F])s.push(l),l[tn]=a}}return x}function R(e,n){if(e)c(e,function(e,n,t,r){for(n=e._d;r=n.pop();)(t=r.parentNode)&&t.removeChild(r)},o,o,!0);else for(n=X.length;n--;)R(X[n])}function q(n,t,r,i){function a(e,n,t,r){if(e){if(t)for(r=n;r&&r._w2;r=r[_n])r._w2-=t;e._w2||!e._r||(r=e[_n])&&r._r||e._r(),c(e,a,o,!0)}}if(n._l){if(!n._l.u)return;E(n)}var f,u,s,p=!t&&(n._data!==o||n._l)&&!n[an],d=this,_=d.datas=[],m=n[rn],g=0,b=n.render,w=function(e,i,f,c,s,h,w,y){if(e!==o&&(_[e]=i,g--),!g&&!d.rejected){if(h=n[an],c=n.children,!p){if(t&&h&&(n[an]=o),n._l=o,w=n._data,n._data=_,y=h?t?gn:sn:ln,y&&1===t){for(s=!0,f=_.length;s&&f--;)u=m[f],s=s&&(yn(4,u)&&u.v.eq||$H.eq).call(n,_[f],w[f]);s?y=gn:t=2}n._r=function(e){if(n._r=o,e=H(n,n[mn]),y){if(O(y,b,h||_,e,n,r))return;if(!t){if(n.isForm&&y===ln&&n.tags&&xn.refresh(n.tags),v(y,n,h||_),O(hn,b,h?[!0]:[],e,n,r))return;v(hn,n)}}!(f=n.refresh)||f.r===o||!w&&h||T(n,f.r,f)},n.isForm&&(l(n[_n],n,on),n._r()),n.isNamed&&n._r()}for(a(z,n,h||!n.wait&&!t?n._w2:1),f=0;f<c.length;f++)s=c[f],s._id in W&&(h?(A(s,{}),R()):new q(s,t))}};if(!p){if(n._l=d,d.u=t,n._w2=u=n._w,n[an]=o,n.wait||t||a(z,n,u),f=(f=h(f=n.title)?f.call(n,n._p):f)===o?S:f,f!==o&&(e.title=f),!t){if(O(un,b,[],H(n,n[mn]),n,r))return;v(un,n)}for(s=function(e){g++,u.then(function(n){w(e,n)},function(t,r){(r=n[an])||(r=n[an]=new Array(_.length)),r[e]=t,w(e)})},f=0;f<m.length;f++)(u=m[f])&&(yn(2,u)?u=u.v:h(u)?u=u.call(n,n._p):(u=new F(u,n,i),"o"in u&&(u=u.o)),_.push(u),u&&h(u.then)&&s(f))}w()}function A(e,n,t){var r,i,a;if(c(e,function(e){A(e,n)},o,!0),(r=e._l)&&(e._r=!r.u,e.isForm&&!e._c&&A(e[_n],n,!0)),E(e),e._r&&v("stop",e),e._r=e._f=o,!(r===o&&e._data===o&&!Object.keys(e._n).length||(e._l=e._data=e[an]=o,e._id in n))){v("leave",e),i=e._n,t=t?1:0;for(r in i)for(a=i[r];a.length>t;)e._d.push(a.pop());t||(e._n={})}if(!(e._id in n))for(a=e._p,i=Object.keys(a),r=i.length;r--;)delete a[i[r]]}function E(e,n){(n=e._u)&&(a(n),e._u=o),(n=e._o)&&(a(n),e._o=o),(n=e._l)&&(n.reject(),e._l=o)}function T(e,n,t,r,a,f){h(n)&&(n=n.call(e)),n!==o&&(!(f=e._l)||f.u&&r)&&(E(e),a&&!t.j&&(n-=a),e._u=i(function(){e._u=gn,E(e),(a=t.o||0)&&(a=h(a)?a.call(e):a,e._o=i(function(){e._o=gn,T(e,t.r,t,!1,a)},a)),new q(e,1)},0>n?0:n))}function M(e,n){var t,r,i,a,f,c,u,l=[],s=[];if(e instanceof HTMLFormElement)for(i=e.elements,t=0;t<i.length;t++){if(a=i[t],u=o,f=a.name)switch(a.type){case dn:case"reset":case"button":case"file":break;case"checkbox":case"radio":a.checked&&(u=a.value||"");break;case"select-multiple":for(c=a.options,u=[],r=0;r<c.length;r++)c[r].selected&&u.push(c[r].value);break;default:u=a.value||""}if(s.push([a,u]),!a.disabled&&u!==o)for(p(u)||(u=[u]),r=0;r<u.length;r++)l.push({name:f,value:u[r]})}return n?[l,s]:l}var S,U,D,I,L,K,z,J,P,B,G,W={},X=[],Q=0,V={},Y={before:{},success:{},error:{},after:{},stop:{},except:{},leave:{},busy:{},idle:{},xhr:{}},Z=!1,en=0,nn=/[\x20\t\r\n\f]+/,tn="_$Cf",rn="dataSource",an="_dataError",on="valid",fn="invalid",cn="sending",un="before",ln="success",sn="error",hn="after",pn="except",dn="submit",_n="parent",mn="renderParent",gn=null,vn="matches",bn=j.prototype,wn=function(e){this._=e},yn=function(e,n){return n instanceof wn&&n._===e},kn=function(){},jn=function(e,n){var t=function(n){for(n in e)this[n]=e[n]};return t.prototype=n||new kn,new t},xn=function(e,n){return m(),d(e)&&d(n)?s(e,{render:function(e,t){xn.set(N(o,n,t),o,!0)}}):e?s(e,n):P||(P=n),xn};return xn.add=xn,xn.set=function(e,n,t){return m(!0),J=n,e=$(e),t||(t=r.href===e.href),$H.go(e.href,o,t)},xn.run=function(n){m();for(var t=e.body,u=t.addEventListener.bind(t),p=["oM","msM","mozM","webkitM","m"];vn&&!t[vn];)vn=p.pop()+"atchesSelector";n=n||{},S=n.title,U=x(n.render),D=n[_n]||t,I=n.callTemplate||function(e,n,t,r,i,a){return(i=$C.tpl[e])||g("No `"+e+"` template"),a=[n,t,this],r&&a.push(r),i.apply(gn,a)},P&&s(o,P),$H.on(o,function(){var e,n,t,r,i,a={},f=0,u=0,l=function(e){e._w=0},s=function(e,n,t){return e._a?(e._w++,a[n=e._id]=e,f++,i||n in W||(i=!0),h(t=e["break"])&&(t=t.call(e)),(n=e[_n])&&(n._w+=e._w),!!t):void 0},p=function(e,n,t,r){if(n=e._g)for(t=n.length;t--;)if((r=n[t])._a){for(r=r._s,t=n.length;t--;)(e=n[t])._a||e["final"]===!1||k(e,1),e._s=r;break}};for(n=0;n<X.length;n++)if(r=X[n],r._a){e=r;for(t in B)r=B[t],r.root!==e||r._a||k(r,1);c(e,o,p),c(e,l,s);break}for(n in W)u++,r=W[n],r.isNamed&&r[_n]._id in a&&(a[r._id]=r),n=n in a,(!n||J||!r._s||r.keep===!1||r[an])&&A(r,a),n&&(r._s=1);!i&&u>f&&R(),W=a,J=o,z=e,e&&new q(e)}),xn.on("before after stop",function(e){en+=e===un?1:-1,G&&a(G),G=i(function(){e=Z,Z=!!en,G=o,e!==Z&&v(en?"busy":"idle",xn)},0)}),u("click",function(e,n){for(var t=e.target;t&&!(t instanceof HTMLAnchorElement);)t=t.parentNode;!t||(n=t.target)&&!(n="$CR.replace"===n)||t.host!==r.host||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||1!==e.which||(e.preventDefault(),xn.set(t.href,o,n))},!1),u(dn,function(e){function n(e){c=h(c=_.getAttribute("action")||i.action)?c.call(_,e,t):c||r.href,u=i.type||"qs","get"===i.method&&"qs"===u&&(e.length&&(c+=(~c.indexOf("?")?"&":"?")+f(e)),e=o),"qs"!==u||e&&e.length||(e=u=o),i[rn]=[c],new q(i,o,_,function(n,r){return(e!==o||u!==o)&&n.setRequestHeader("Content-Type","text"===u?"text/plain":"json"===u?"application/json":"application/x-www-form-urlencoded"),(r=i.xhr)&&r.call(_,n,e,t),l(t,i,cn),"json"===u?JSON.stringify(e):e?"text"===u?e+"":f(e||[]):o})}for(var t,i,a,c,u,s,p,d=e.target,_=d;d&&!(t=d[tn]);)d=d.parentNode;t&&t.form&&((s=t.checkForm(_))!==o&&(e.preventDefault(),i=_[tn+"f"]),s&&(W[i._id]=i,a=i._se,i.method=(_.getAttribute("method")||i._method||"get").toLowerCase(),a=(s=i[dn])?s.call(_,a,t,function(){p=!0}):a,p||(a&&h(a.then)?a.then(n):n(a)))),i||"get"!==_.method||_.target||(a=$(_.action),a.host===r.host&&(e.preventDefault(),c=a.pathname+a.search,xn.set(("/"===c[0]?c:"/"+c)+(a.search?"&":"?")+f(M(_)))))}),L=!0,$H.run(),xn._debug={f:X}},xn.serializeForm=M,xn.makeURI=function(e,n){return N(o,e,n)},xn.on=function(e,n,t){var r,i,a="";if(d(e)&&h(n))if(e=e.split(nn),1===e.length)(r=Y[e])&&(t&&((a=V[t])&&(t=a),a=t._id),(i=r[a])||(i=r[a]=[]),i.push(n));else for(a=e.length;a--;)xn.on(e[a],n,t);return xn},xn.off=function(e,n,t){var r,i="";if(d(e)&&h(n))if(e=e.split(nn),1===e.length){if(t&&((i=V[t])&&(t=i),i=t._id),(r=Y[e])&&(r=r[i]))for(i=r.length;i--;)r[i]===n&&r.splice(i,1)}else for(i=e.length;i--;)xn.on(e[i],n,t);return xn},xn.get=function(e){return V[e]},xn.params=function(){return K},xn.$={uri:function(e,n,t,r){var i=new wn(1);return i.u=e,i.p=n,i.r=t,i.e=r,i},"static":function(e){var n=new wn(2);return n.v=e,n},tpl:function(e,n,t){var r=new wn(3);return r.n=e,r.p=n,r.r=t,r},data:function(e){var n=new wn(4);return e&&e.uri||g("No URI"),n.v=e,n},refresh:function(e){var n,t,r=new wn(5),i=e.tags,a={};if(h(n=r.r=e.refresh)||"number"==typeof n||i&&d(i)||g("Wrong refresh"),r.o=e.timeout,r.j=(n=e.join)===o?!0:n,i)for(i=i.split(nn),t=i.length;t--;)a[i[t]]=!0;return r.t=a,r}},xn.refresh=function(e){e=e.split(nn),c(z,o,function(n,t,r,i){if(n._id in W&&(t=n.refresh)&&(r=t.t))for(i=e.length;i--;)e[i]in r&&T(n,0,t,!0)})},bn.reload=function(){var e,n=this;if(n._id in W){for(e=n[_n];e&&!e._l;)e=e[_n];e||(A(n,W,!0),new q(n))}},bn.params=function(){return this._p||o},bn.data=function(e){var n=this._data;return p(n)?-1===e?n:n[e||0]:o},bn.makeURI=function(e){return N(this,this.uri,e||{})},bn.active=function(e){return this._id in W&&(e?1===this._s:!0)},bn.checkForm=function(e){for(var n,t,r,i,a,f,c,l,s,h,d=e,_=this;d&&!(r=d[tn]);)d=d.parentNode;if(_===r&&(d=_.form)){if(!(i=e[r=tn+"f"]))for(p(d)||(d=[d]),n=0;n<d.length;n++)if(t=d[n],!t.match||e[vn](t.match)){i=e[r]=new j(o,o,o,t,o,o,_,!0);break}if(i){for(a=M(e,!0),f=i._fi=a[1],i._se=a=a[0],c=i.check,d=0;d<f.length;d++)l=f[d],s=c?c.call(_,l[0],l[1],a):o,u(_,i,l,s?(h=!0,fn):on,s);return!h}}},bn.named=function(e,n){var t,r,i,a,o,f,c,u=this.namedChildren[e];if(u&&u[_n].active()){r=u._id in W,t=n!==!1,i=u._p,o={},a=Object.keys(i);for(c=a.length;c--;)f=a[c],o[f]=i[f];if(f=!$H.eq(o,n||{}),!t&&r||f)for(delete W[u._id],A(u,{}),!t&&r&&R(u),c=a.length;c--;)delete i[a[c]];if(t&&(!r||f)){if(W[u._id]=u,n)for(f in n)i[f]=n[f];new q(u)}}},$H.on({search:function(e,t,r,i,a,f){for(B={},f=function(e){e._a=0},t=X.length;t--;)c(X[t],o,f);for(K={},e=e.split("&"),t=0;t<e.length;t++)(i=e[t])&&(~(a=i.indexOf("="))?(a=i.substring(a+1),i=n(i.substring(0,i.length-a.length-1)),a=n(a)):a=gn,(f=K[i])?(p(f)||(f=[f]),f.push(a)):f=a,K[i]=f)}},{}),bn=F.prototype,bn.then=function(e,n){var t=this;e&&t.ok.push(e),n&&t.err.push(n),t.done()},bn.reject=function(){var e=this;e.d||(e.r&&(e.r.abort(),e.r=o),e.d=e.e=!0,e.done())},bn.done=function(){var e,n,t=this;if(t.d)for(t.e?(e=t.err,n=t.r):(e=t.ok,n=t.j);e.length;)e.shift()(n)},q.prototype.reject=function(){var e,n,t=this.datas;for(this.rejected=!0,e=t.length;e--;)n=t[e],h(n.abort)&&n.abort(),h(n.reject)&&n.reject()},xn}(document,decodeURIComponent,encodeURIComponent,location,setTimeout,clearTimeout);